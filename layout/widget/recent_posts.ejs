<% if (site.posts.length) { %>
    <div class="widget-wrap">
        <h3 class="widget-title"><span><%= __('widget.recents') %></span></h3>
        <div class="widget">
            <ul id="recent-post" class="<%= (theme.customize.thumbnail?'':'no-thumbnail') %>">
                <% site.posts.sort('date', -1).limit(2).each(function(post) { %>
                    <li>
                        <% if(theme.customize.thumbnail == true) { %>
                        <div class="item-thumbnail">
                            <%- partial('common/thumbnail.ejs', {post: post}) %>
                        </div>
                        <% } %>
                        <div class="item-inner">
                            <!-- 如果title是数字开头，则去掉数字 -->
                            <% let title = post.title; %>
                            <% if (title && /^\d+\./.test(title)) { %>
                                <% title = title.replace(/^\d+\./, ''); %>
                            <% } else { %>
                                <% title= post.title %>
                            <% } %>
                            <p class="item-title"><a href="<%- url_for((post.link?post.link:post.path)) %>" class="title"
                                onclick="onclickRoute(event, '<%- url_for((post.link?post.link:post.path)) %>')"><%= title %></a></p>
                            <p>
                                <span class="item-category"><%- list_categories(post.categories, {show_count: false, depth:1, class: 'article-category', style: 'none', separator: '<i class="fa fa-angle-right"></i>'}) %></span>
                                <span class="item-date"><time datetime="<%= date_xml(post.date) %>" itemprop="datePublished"><%= date(post.date) %></time></span>
                            </p>
                        </div>
                    </li>
                <% }) %>
            </ul>
        </div>
    </div>
<% } %>